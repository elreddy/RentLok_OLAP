-- Bronze Layer Tables and Streams Creation:

create or replace TABLE RENTLOK_PRD.BRONZE.PROPERTIES (
	PROPERTY_ID NUMBER(38,0),
	PROPERTY_NAME VARCHAR(16777216),
	ADDRESS VARCHAR(16777216),
	NO_OF_ROOMS NUMBER(38,0),
	OWNER_ID NUMBER(38,0),
	CREATED_AT VARCHAR(16777216),
	IS_ACTIVE NUMBER(38,0)
);

create or replace TABLE RENTLOK_PRD.BRONZE.STAGE_PROPERTIES (
	PROPERTY_ID NUMBER(38,0),
	PROPERTY_NAME VARCHAR(16777216),
	ADDRESS VARCHAR(16777216),
	NO_OF_ROOMS NUMBER(38,0),
	OWNER_ID NUMBER(38,0),
	CREATED_AT VARCHAR(16777216),
	IS_ACTIVE NUMBER(38,0)
);

CREATE OR REPLACE STREAM rentlok_prd.bronze.stream_properties
ON TABLE rentlok_prd.bronze.properties;


create or replace TABLE RENTLOK_PRD.BRONZE.ROOMS (
	ROOM_ID NUMBER(38,0),
	ROOM_NO VARCHAR(16777216),
	FLOOR_NO NUMBER(38,0),
	PROPERTY_ID NUMBER(38,0),
	OPERATIONAL_STATUS VARCHAR(16777216),
	ROOM_TYPE VARCHAR(16777216),
	RENT_PER_MONTH NUMBER(38,0),
	IS_ACTIVE NUMBER(38,0)
);

create or replace TABLE RENTLOK_PRD.BRONZE.STAGE_ROOMS (
	ROOM_ID NUMBER(38,0),
	ROOM_NO VARCHAR(16777216),
	FLOOR_NO NUMBER(38,0),
	PROPERTY_ID NUMBER(38,0),
	OPERATIONAL_STATUS VARCHAR(16777216),
	ROOM_TYPE VARCHAR(16777216),
	RENT_PER_MONTH NUMBER(38,0),
	IS_ACTIVE NUMBER(38,0)
);

CREATE OR REPLACE STREAM rentlok_prd.bronze.stream_rooms
ON TABLE rentlok_prd.bronze.rooms;


create or replace TABLE RENTLOK_PRD.BRONZE.REQUESTS (
	REQUEST_ID NUMBER(38,0),
	PROPERTY_ID NUMBER(38,0),
	TENANT_NAME VARCHAR(16777216),
	PHONE_NO VARCHAR(16777216),
	DETAILS VARCHAR(16777216),
	REQUEST_DATE DATE,
	IS_ACTIVE NUMBER(38,0)
);

create or replace TABLE RENTLOK_PRD.BRONZE.STAGE_REQUESTS (
	REQUEST_ID NUMBER(38,0),
	PROPERTY_ID NUMBER(38,0),
	TENANT_NAME VARCHAR(16777216),
	PHONE_NO VARCHAR(16777216),
	DETAILS VARCHAR(16777216),
	REQUEST_DATE DATE,
	IS_ACTIVE NUMBER(38,0)
);

CREATE OR REPLACE STREAM rentlok_prd.bronze.stream_requests
ON TABLE rentlok_prd.bronze.requests;


create or replace TABLE RENTLOK_PRD.BRONZE.TENANTS (
	TENANT_ID NUMBER(38,0),
	NAME VARCHAR(16777216),
	PHONE_NO VARCHAR(16777216),
	DETAILS VARCHAR(16777216),
	IS_ACTIVE NUMBER(38,0)
);

create or replace TABLE RENTLOK_PRD.BRONZE.STAGE_TENANTS (
	TENANT_ID NUMBER(38,0),
	NAME VARCHAR(16777216),
	PHONE_NO VARCHAR(16777216),
	DETAILS VARCHAR(16777216),
	IS_ACTIVE NUMBER(38,0)
);

CREATE OR REPLACE STREAM rentlok_prd.bronze.stream_tenants
ON TABLE rentlok_prd.bronze.tenants;


create or replace TABLE RENTLOK_PRD.BRONZE.BOOKINGS (
	BOOKING_ID NUMBER(38,0),
	ROOM_ID NUMBER(38,0),
	TENANT_ID NUMBER(38,0),
	PROPERTY_ID NUMBER(38,0),
	MOVE_IN_DATE DATE,
	MOVE_OUT_DATE DATE,
	STATUS VARCHAR(16777216),
	IS_ACTIVE NUMBER(38,0)
);

create or replace TABLE RENTLOK_PRD.BRONZE.STAGE_BOOKINGS (
	BOOKING_ID NUMBER(38,0),
	ROOM_ID NUMBER(38,0),
	TENANT_ID NUMBER(38,0),
	PROPERTY_ID NUMBER(38,0),
	MOVE_IN_DATE DATE,
	MOVE_OUT_DATE DATE,
	STATUS VARCHAR(16777216),
	IS_ACTIVE NUMBER(38,0)
);

CREATE OR REPLACE STREAM rentlok_prd.bronze.stream_bookings
ON TABLE rentlok_prd.bronze.bookings;


create or replace TABLE RENTLOK_PRD.BRONZE.PAYMENTS (
	PAYMENT_ID NUMBER(38,0),
	BOOKING_ID NUMBER(38,0),
	PAYMENT_TYPE VARCHAR(16777216),
	PAYMENT_STATUS VARCHAR(16777216),
	AMOUNT NUMBER(38,0),
	PAYMENT_DATE DATE,
	PAYMENT_MONTH VARCHAR(16777216),
	IS_ACTIVE NUMBER(38,0)
);

create or replace TABLE RENTLOK_PRD.BRONZE.STAGE_PAYMENTS (
	PAYMENT_ID NUMBER(38,0),
	BOOKING_ID NUMBER(38,0),
	PAYMENT_TYPE VARCHAR(16777216),
	PAYMENT_STATUS VARCHAR(16777216),
	AMOUNT NUMBER(38,0),
	PAYMENT_DATE DATE,
	PAYMENT_MONTH VARCHAR(16777216),
	IS_ACTIVE NUMBER(38,0)
);

CREATE OR REPLACE STREAM rentlok_prd.bronze.stream_payments
ON TABLE rentlok_prd.bronze.payments;